<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        // function promiseAjax(url) {
        //     return new Promise(function(resolve, reject) {
        //         const xhr = new XMLHttpRequest()
        //         xhr.open('get', url)
        //         xhr.send()
        //         xhr.onreadystatechange = function() {
        //             if (xhr.readyState !== 4) return
        //             if (xhr.status >= 200 && status <= 300) {
        //                 resolve(JSON.parse(xhr.response))
        //             } else {
        //                 reject(new Error('数据获取失败' + xhr.status))
        //             }
        //         }
        //     })
        // }
        // let p = promiseAjax('https://api.apiopen.top/getJoke?page=1&count=2&type=video')
        // p.then(value => {
        //     console.log(value);
        // }, reason => {
        //     console.log(reason);
        // })
        // let p1 = new Promise((resolve, reject) => {
        //     setTimeout(() => {
        //         resolve(3)
        //     }, 1100)
        // }).then(value => {
        //     console.log(value);
        // }, reason => {
        //     console.log(reason);
        // })
        // let p2 = Promise.resolve(4)
        // let p3 = Promise.reject(5)
        // let p4 = Promise.all([p1, p2, p3])
        // p4.then(value => {
        //     console.log(value);
        // }, reason => {
        //     console.log(reason);
        // })
        // let p5 = Promise.race([p1, p2, p3])
        // p5.then(value => {
        //     console.log(value);
        // }, reason => {
        //     console.log(reason);
        // })
        let p6 = new Promise((resolve, reject) => {
            setTimeout(() => {
                resolve(1)
                console.log(2);
            }, 1000);
        })
        p6.then(value => {
            console.log(value);
            return new Promise((resolve, reject) => {
                setTimeout(() => {
                    console.log(11111);
                    resolve(2222222)
                }, 1000)
            })
        }, reason => {
            console.log(reason);
        }).then(
            value => {
                // console.log(value);
            }, reason => {}
        )

        console.log(p6);
    </script>
</body>

</html>